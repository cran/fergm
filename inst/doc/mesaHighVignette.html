<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Benjamin W. Campbell" />

<meta name="date" content="2018-10-02" />

<title>Mesa High Vignette</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Mesa High Vignette</h1>
<h4 class="author"><em>Benjamin W. Campbell</em></h4>
<h4 class="date"><em>2018-10-02</em></h4>



<div id="vignette-info-and-introduction" class="section level2">
<h2>Vignette Info and Introduction</h2>
<p>This vignette uses the faux.mesa.high network from the ergm package <span class="citation">(Hunter et al. 2008)</span> to provide an example of the basic functionality of the fergm package <span class="citation">(Box-Steffensmeier, Morgan, and Christenson 2018)</span>. In particular, it walks through the estimation of a well-fitting Exponential Random Graph (ERGM) model on the simulated “Mesa High” network. Once estimated, the corresponding Frailty Exponential Random Graph (FERGM) model is estimated and compared to the comparable ERGM. The documentation for each individual function includes chunks of code taken from this vignette.</p>
<p>It is worth noting that many of these functions are built upon the <code>rstan</code> package <span class="citation">(Guo et al. 2016)</span>. Given that the output of the <code>fergm</code> function is a <code>stanfit</code> object, one may use much of the built-in functionality of the <code>rstan</code> package should they be familiar with the package.</p>
<p>This vignette proceeds by walking through an example step-by-step to illustrate a representative workflow for using the FERGM package.</p>
<p><em>Note: The code presented here is not built given the runtime for the FERGM. As such, the code presented is purely illustrative. It will successfully execute, however.</em></p>
</div>
<div id="importing-mesa-high-network" class="section level2">
<h2>Importing Mesa High Network</h2>
<p>The following chunk of code imports the Mesa High network generously provided in the <code>ergm</code> package <span class="citation">(Hunter et al. 2008)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Load statnet which contains the ergm package and the faux.mesa.high network.</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(statnet)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># Set seed for replication</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">set.seed</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co"># Load faux.mea.high daa</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="kw">data</span>(<span class="st">&quot;faux.mesa.high&quot;</span>)</a>
<a class="sourceLine" id="cb1-9" data-line-number="9"></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co"># Rename the object</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11">mesa &lt;-<span class="st"> </span>faux.mesa.high</a></code></pre></div>
</div>
<div id="ergm-and-fergm-estimation" class="section level2">
<h2>ERGM and FERGM Estimation</h2>
<p>The second step, once the data is imported, is to estimate a well-fitting ERGM and its FERGM counterpart. The <code>fergm</code> function takes at least two arguments, the network object to have an FERGM fit on and a character string formula containing undirected <code>ergm-terms</code>. A variety of other function arguments can be specified to override defaults, including the seed, the number of chains, number of warmup iterations, total number of iterations, and the number of cores used. The <code>fergm</code> function returns a named list of two objects: <code>fergm$stan.dta</code> returns the data object handed to Stan and <code>fergm$stan.fit</code> is the <code>stanfit</code> object returned. The following chunk of code handles this.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># ERGM fit</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">ergm.fit &lt;-<span class="st"> </span><span class="kw">ergm</span>(mesa <span class="op">~</span><span class="st"> </span>edges <span class="op">+</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="st">                   </span><span class="kw">nodematch</span>(<span class="st">&#39;Sex&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="st">                   </span><span class="kw">nodematch</span>(<span class="st">&#39;Grade&#39;</span>, <span class="dt">diff =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="st">                   </span><span class="kw">nodematch</span>(<span class="st">&#39;Race&#39;</span>, <span class="dt">diff =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="st">                   </span><span class="kw">gwesp</span>(<span class="dt">decay =</span> <span class="fl">0.2</span>, <span class="dt">fixed =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="st">                   </span><span class="kw">altkstar</span>(<span class="dt">lambda =</span> <span class="fl">0.6</span>, <span class="dt">fixed =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb2-8" data-line-number="8"></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co"># FERGM fit</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="kw">library</span>(fergm)</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">form &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;edges + nodematch(&#39;Sex&#39;) + nodematch(&#39;Grade&#39;, diff = FALSE) +</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="st">        nodematch(&#39;Race&#39;, diff = FALSE) + gwesp(decay = 0.2, fixed = TRUE) + </span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="st">        altkstar(lambda = 0.6, fixed = TRUE)&quot;</span>)</a>
<a class="sourceLine" id="cb2-14" data-line-number="14"></a>
<a class="sourceLine" id="cb2-15" data-line-number="15">fergm.fit &lt;-<span class="st"> </span><span class="kw">fergm</span>(<span class="dt">net =</span> mesa, <span class="dt">form =</span> form, <span class="dt">chains =</span> <span class="dv">1</span>)</a></code></pre></div>
</div>
<div id="summarizing-fergm-output" class="section level2">
<h2>Summarizing FERGM Output</h2>
<p>While the <code>fergm</code> package does not contain a built in <code>summary</code> function for the FERGM, there are several means to summarize <code>fergm</code> output. One way to do so cleanly is to use the built-in <code>clean_summary</code> function. This function takes two objects: the output of the <code>fergm</code> function and a vector of custom character names for each coefficient. If a vector of custom chaaracter names is not provided then the function inherits the formula used in the <code>fergm</code> call, which holds true for other functions including the <code>custom_var_names</code> argument.</p>
<p>In addition, we provide a built-in function to create coefficient plots: <code>coef_plot</code>. This function takes either an <code>fergm</code> object to plot the FERGM coefficients or both an <code>fergm</code> and <code>ergm</code> object to plot and compare the coefficients.</p>
<p>We also include a built-in function to plot the densities for each coefficient of interest, <code>coef_posterior_density</code>. The code is as follows:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Conventional rstan approach to extracting posterior summary</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">stan.smry &lt;-<span class="st"> </span><span class="kw">summary</span>(fergm.fit<span class="op">$</span>stan.fit)<span class="op">$</span>summary</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">beta_df &lt;-<span class="st"> </span>stan.smry[<span class="kw">grep</span>(<span class="st">&quot;beta&quot;</span>, <span class="kw">rownames</span>(stan.smry)),]</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">est &lt;-<span class="st"> </span><span class="kw">round</span>(beta_df[,<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">8</span>)], <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">est <span class="co"># in order of &quot;form&quot;</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co"># fergm built-in function to summarize posteior</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">est &lt;-<span class="st"> </span><span class="kw">clean_summary</span>(fergm.fit)</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">est &lt;-<span class="st"> </span><span class="kw">clean_summary</span>(fergm.fit, </a>
<a class="sourceLine" id="cb3-10" data-line-number="10">                     <span class="dt">custom_var_names =</span> <span class="kw">c</span>(<span class="st">&quot;Edges&quot;</span>, <span class="st">&quot;Sex Homophily&quot;</span>,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">                                          <span class="st">&quot;GradeHomophily&quot;</span>, <span class="st">&quot;Race Homophily&quot;</span>,</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">                                          <span class="st">&quot;GWESP&quot;</span>, <span class="st">&quot;Alternating K-Stars&quot;</span>))</a>
<a class="sourceLine" id="cb3-13" data-line-number="13"></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co"># Compare substantive implications via coef plot, these are with 95% credible intervals</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="kw">coef_plot</span>(<span class="dt">fergm.fit =</span> fergm.fit)</a>
<a class="sourceLine" id="cb3-16" data-line-number="16"></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="kw">coef_plot</span>(<span class="dt">fergm.fit =</span> fergm.fit, </a>
<a class="sourceLine" id="cb3-18" data-line-number="18">          <span class="dt">custom_var_names =</span>  <span class="kw">c</span>(<span class="st">&quot;Edges&quot;</span>, <span class="st">&quot;Sex Homophily&quot;</span>, <span class="st">&quot;Grade Homophily&quot;</span>, </a>
<a class="sourceLine" id="cb3-19" data-line-number="19">                                <span class="st">&quot;Race Homophily&quot;</span>, <span class="st">&quot;GWESP&quot;</span>, <span class="st">&quot;Alternating K-Stars&quot;</span>))</a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="kw">coef_plot</span>(<span class="dt">fergm.fit =</span> fergm.fit, </a>
<a class="sourceLine" id="cb3-21" data-line-number="21">          <span class="dt">ergm.fit =</span> ergm.fit, </a>
<a class="sourceLine" id="cb3-22" data-line-number="22">          <span class="dt">custom_var_names =</span>  <span class="kw">c</span>(<span class="st">&quot;Edges&quot;</span>, <span class="st">&quot;Sex Homophily&quot;</span>, <span class="st">&quot;Grade Homophily&quot;</span>, </a>
<a class="sourceLine" id="cb3-23" data-line-number="23">                                <span class="st">&quot;Race Homophily&quot;</span>, <span class="st">&quot;GWESP&quot;</span>, <span class="st">&quot;Alternating K-Stars&quot;</span>))</a>
<a class="sourceLine" id="cb3-24" data-line-number="24"></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"></a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="co"># You can also look at the density of particular variables using the following:</span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"></a>
<a class="sourceLine" id="cb3-28" data-line-number="28">densities &lt;-<span class="st"> </span><span class="kw">coef_posterior_density</span>(<span class="dt">fergm.fit =</span> fergm.fit)</a>
<a class="sourceLine" id="cb3-29" data-line-number="29"></a>
<a class="sourceLine" id="cb3-30" data-line-number="30">densities &lt;-<span class="st"> </span><span class="kw">coef_posterior_density</span>(<span class="dt">fergm.fit =</span> fergm.fit, </a>
<a class="sourceLine" id="cb3-31" data-line-number="31">                                    <span class="dt">custom_var_names =</span> <span class="kw">c</span>(<span class="st">&quot;Edges&quot;</span>, <span class="st">&quot;Sex Homophily&quot;</span>, </a>
<a class="sourceLine" id="cb3-32" data-line-number="32">                                                         <span class="st">&quot;Grade Homophily&quot;</span>, <span class="st">&quot;Race Homophily&quot;</span>, </a>
<a class="sourceLine" id="cb3-33" data-line-number="33">                                                         <span class="st">&quot;GWESP&quot;</span>, <span class="st">&quot;Alternating K-Stars&quot;</span>))</a>
<a class="sourceLine" id="cb3-34" data-line-number="34">densities[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb3-35" data-line-number="35">densities[[<span class="dv">2</span>]]</a></code></pre></div>
<p>There are also a series of <code>rstan</code> functions to summarize posterior distributions, and we would refer the reader to the <code>rstan</code> manual should they be interested in learning their alternatives.</p>
</div>
<div id="fergm-diagnostics" class="section level2">
<h2>FERGM Diagnostics</h2>
<p>To visually check whether there is evidence that the chains used to estimate the FERGM have converged, traceplots may be used. While <code>rstan</code> has a built-in traceplot function that could easily be used, changes may be desired to produce publication-quality graphics. As such, building upon the <code>rstan::traceplot()</code> function, we provide a cleaner alternative. The code is as follows:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># Use rstan functions to assess whether chains have evidence of converging</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">trace &lt;-<span class="st"> </span>rstan<span class="op">::</span><span class="kw">traceplot</span>(fergm.fit<span class="op">$</span>stan.fit, <span class="dt">pars =</span> <span class="st">&quot;beta&quot;</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">trace</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co"># We have our own version that includes variable names and tidies it up a bit</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="kw">fergm_beta_traceplot</span>(fergm.fit)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7"></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="kw">fergm_beta_traceplot</span>(fergm.fit,</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">                     <span class="dt">custom_var_names =</span>  <span class="kw">c</span>(<span class="st">&quot;Edges&quot;</span>, <span class="st">&quot;Sex Homophily&quot;</span>, </a>
<a class="sourceLine" id="cb4-10" data-line-number="10">                                           <span class="st">&quot;Grade Homophily&quot;</span>, <span class="st">&quot;Race Homophily&quot;</span>, </a>
<a class="sourceLine" id="cb4-11" data-line-number="11">                                           <span class="st">&quot;GWESP&quot;</span>, <span class="st">&quot;Alternating K-Stars&quot;</span>))</a></code></pre></div>
<p>Additional diagnostics are available using the <code>rstan</code> package, and we would refer the reader to their well-written manual for further diagnostics or details on their built-in diagnostic plots.</p>
</div>
<div id="compare-ergm-and-fergm-fit" class="section level2">
<h2>Compare ERGM and FERGM Fit</h2>
<p>One might be interested in the relative difference in predictive performance between an ERGM and an FERGM. While the <code>coef_plot()</code> function offers an opportunity to compare the coefficients of these two models, it does not provide a means to assess the relative fit of each model. Relative fit is examined through simulating a number of networks based upon the model results and examining the average number of correctly predicted ties across all simulated networks. This routine is described by the manuscript presenting the model <span class="citation">(Box-Steffensmeier, Morgan, and Christenson 2018)</span>. The code to perform this routine is as follows:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Use fergm built in compare_predictions function to compare predictions of ERGM and FERGM</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">predict_out &lt;-<span class="st"> </span><span class="kw">compare_predictions</span>(<span class="dt">ergm.fit =</span> ergm.fit, <span class="dt">fergm.fit =</span> fergm.fit, <span class="dt">replications =</span> <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># Use the built in compare_predictions_plot function to examine the densities of correctly predicted</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="co"># ties from the compare_predictions simulations</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="kw">compare_predictions_plot</span>(predict_out)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co"># We can also conduct a KS test to determine if the FERGM fit it statistically disginguishable </span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9">  <span class="co"># from the ERGM fit</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="kw">compare_predictions_test</span>(predict_out)</a></code></pre></div>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-box2018modeling">
<p>Box-Steffensmeier, Jan, Jason Morgan, and Dino Christenson. 2018. “Modeling Unobserved Heterogeneity in Social Networks with the Frailty Exponential Random Graph Model.” <em>Political Analysis</em> 26 (1).</p>
</div>
<div id="ref-guo2016rstan">
<p>Guo, Jiqiang, D Lee, K Sakrejda, J Gabry, B Goodrich, J De Guzman, E Niebler, T Heller, and J Fletcher. 2016. “Rstan: R Interface to Stan.” <em>R Package Version</em> 2: 0–3.</p>
</div>
<div id="ref-hunter2008ergm">
<p>Hunter, David R, Mark S Handcock, Carter T Butts, Steven M Goodreau, and Martina Morris. 2008. “Ergm: A Package to Fit, Simulate and Diagnose Exponential-Family Models for Networks.” <em>Journal of Statistical Software</em> 24 (3). NIH Public Access: nihpa54860.</p>
</div>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
